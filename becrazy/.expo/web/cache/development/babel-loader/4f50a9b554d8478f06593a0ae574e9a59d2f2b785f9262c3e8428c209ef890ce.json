{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useContext, useEffect, useState } from 'react';\nimport { Text, View } from \"./Themed\";\nimport { Video, ResizeMode } from 'expo-av';\nimport Colors from \"../constants/Colors\";\nimport { FontAwesome, MaterialIcons } from '@expo/vector-icons';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Comment } from \"./Comment\";\nimport useColorScheme from \"../hooks/useColorScheme\";\nimport { server } from \"../constants/Server\";\nimport { MyContext } from \"../App\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport function Media(props) {\n  var colorScheme = useColorScheme();\n  var _useState = useState(props.allMedia.isLiked),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLiked = _useState2[0],\n    setIsLiked = _useState2[1];\n  var _useState3 = useState('heart-o'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    iconName = _useState4[0],\n    setIconName = _useState4[1];\n  var _useState5 = useState(props.allMedia.nbLikes),\n    _useState6 = _slicedToArray(_useState5, 2),\n    likes = _useState6[0],\n    setLikes = _useState6[1];\n  var _useContext = useContext(MyContext),\n    token = _useContext.token;\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    commentsModalVisible = _useState8[0],\n    setCommentsModalVisible = _useState8[1];\n  var _useState9 = useState([{\n      idMedia: '1',\n      username: 'momo',\n      comment: 'ta video est nulle'\n    }, {\n      idMedia: '2',\n      username: 'Deadass',\n      comment: 'deadass c nulle bro'\n    }]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    comments = _useState10[0],\n    setComments = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    commentInput = _useState12[0],\n    setCommentInput = _useState12[1];\n  useEffect(function () {\n    getComments();\n  }, [commentsModalVisible]);\n  function handlePressLike() {\n    iconName === 'heart-o' ? setIconName('heart') : setIconName('heart-o');\n    likeVideo();\n  }\n  var getComments = function () {\n    var _ref = _asyncToGenerator(function* () {\n      if (commentsModalVisible === true) {\n        console.log('opening comments');\n        var urlGetComments = server + \"/getComments/\" + props.allMedia._id;\n        var resGetComments = yield fetch(urlGetComments);\n        if (resGetComments.ok) {\n          var data = yield resGetComments.json();\n          console.log(data);\n          setComments(data);\n        }\n      }\n    });\n    return function getComments() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var postComment = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var urlPostComment = server + \"/commentsMedia/\" + token;\n      var resPostComment = yield fetch(urlPostComment, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          idMedia: props.allMedia._id,\n          comment: commentInput\n        })\n      });\n      if (resPostComment.ok) {\n        var data = yield resPostComment.json();\n        console.log(data);\n        var newComment = {\n          idMedia: data.idMedia,\n          username: data.username,\n          comment: data.comment\n        };\n        setComments(function (comments) {\n          return [].concat(_toConsumableArray(comments), [newComment]);\n        });\n        props.allMedia.nbComments += 1;\n        setCommentInput('');\n      }\n    });\n    return function postComment() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  function likeVideo() {\n    return _likeVideo.apply(this, arguments);\n  }\n  function _likeVideo() {\n    _likeVideo = _asyncToGenerator(function* () {\n      var urlLikes = server + \"/likeMedia/\" + token;\n      console.log(props.allMedia._id);\n      var resultLikes = yield fetch(urlLikes, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          idMedia: props.allMedia._id\n        })\n      });\n      if (resultLikes.ok) {\n        if (iconName !== 'heart') {\n          setLikes(likes + 1);\n        } else {\n          setLikes(likes - 1);\n        }\n      } else {\n        console.log(\"une erreur s'est produite\");\n      }\n    });\n    return _likeVideo.apply(this, arguments);\n  }\n  useEffect(function () {\n    function checkLike() {\n      if (isLiked == true) {\n        setIconName('heart');\n      } else {\n        setIconName('heart-o');\n      }\n    }\n    checkLike();\n  }, []);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(View, {\n      style: {\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n        flex: 1,\n        maxWidth: 350,\n        minWidth: 350,\n        marginBottom: 10\n      },\n      children: [_jsx(Image, {\n        source: require(\"../assets/images/icon.png\"),\n        style: {\n          width: 50,\n          height: 50,\n          borderRadius: 50,\n          marginTop: 25,\n          right: 12\n        }\n      }), _jsxs(View, {\n        style: Platform.OS !== 'web' ? {\n          flexDirection: 'column',\n          flexWrap: 'wrap',\n          maxWidth: \"100%\",\n          minWidth: \"80%\",\n          flex: 1,\n          marginEnd: 5\n        } : {\n          flexDirection: 'column',\n          flexWrap: 'wrap',\n          maxWidth: \"100%\",\n          minWidth: 265,\n          flex: 1,\n          marginEnd: 5\n        },\n        children: [_jsxs(View, {\n          style: {\n            flexDirection: 'row'\n          },\n          children: [_jsx(Text, {\n            style: [styles.name, {\n              color: Colors[colorScheme].text,\n              marginTop: 25\n            }],\n            children: props.allMedia.username\n          }), _jsx(Text, {\n            style: {\n              color: Colors[colorScheme].tabIconDefault,\n              marginStart: 10,\n              marginTop: 25,\n              fontSize: 12\n            },\n            children: props.allMedia.created.split('T')[0].replaceAll('-', '/')\n          })]\n        }), _jsx(Text, {\n          style: [styles.desc, {\n            color: Colors[colorScheme].text,\n            marginTop: 0,\n            marginBottom: 0\n          }],\n          children: props.allMedia.description\n        }), _jsx(Video, {\n          style: [styles.video, {\n            backgroundColor: Colors[colorScheme].background\n          }],\n          source: {\n            uri: server + \"/getMedia/\" + props.allMedia.videoId\n          },\n          useNativeControls: true,\n          isLooping: true,\n          onError: function onError(error) {\n            return console.error(error);\n          },\n          resizeMode: ResizeMode.CONTAIN\n        }), _jsxs(View, {\n          style: {\n            flexDirection: 'row',\n            marginTop: 10,\n            alignItems: 'flex-end',\n            justifyContent: 'flex-end',\n            marginBottom: 20\n          },\n          children: [_jsx(MaterialIcons, {\n            size: 24,\n            name: \"chat-bubble\",\n            color: Colors[colorScheme].text,\n            style: styles.icon,\n            onPress: function onPress() {\n              return setCommentsModalVisible(true);\n            }\n          }), _jsx(Text, {\n            style: {\n              marginEnd: 10\n            },\n            children: props.allMedia.nbComments\n          }), _jsx(FontAwesome, {\n            size: 24,\n            name: iconName,\n            color: Colors[colorScheme].text,\n            style: styles.icon,\n            onPress: handlePressLike\n          }), _jsx(Text, {\n            style: {\n              marginEnd: 10\n            },\n            children: likes\n          })]\n        })]\n      })]\n    }), _jsx(View, {\n      style: styles.separator,\n      lightColor: \"#eee\",\n      darkColor: \"rgba(255,255,255,0.1)\"\n    }), _jsxs(Modal, {\n      animationType: \"slide\",\n      transparent: true,\n      visible: commentsModalVisible,\n      onRequestClose: function onRequestClose() {\n        setCommentsModalVisible(!commentsModalVisible);\n      },\n      children: [_jsxs(View, {\n        style: Platform.OS == 'web' ? {\n          height: '92%'\n        } : {\n          height: '100%'\n        },\n        children: [_jsxs(View, {\n          style: {\n            flex: 1,\n            flexDirection: 'row',\n            position: 'absolute',\n            top: 20\n          },\n          children: [_jsx(Pressable, {\n            style: {\n              margin: 20\n            },\n            onPress: function onPress() {\n              return setCommentsModalVisible(!commentsModalVisible);\n            },\n            children: _jsx(MaterialIcons, {\n              name: \"arrow-back\",\n              size: 30,\n              color: Colors[colorScheme].text\n            })\n          }), _jsx(Text, {\n            style: [styles.title, {\n              alignItems: 'center',\n              marginTop: 16\n            }],\n            children: \"Comments\"\n          })]\n        }), _jsx(ScrollView, {\n          style: {\n            marginTop: 100\n          },\n          children: comments == null ? void 0 : comments.map(function (comment, index) {\n            return _jsx(Comment, {\n              comment: comment\n            }, comment.idMedia + index);\n          })\n        })]\n      }), _jsxs(View, {\n        style: Platform.OS == 'web' ? {\n          flex: 1,\n          flexDirection: 'row',\n          position: 'absolute',\n          bottom: 0,\n          width: '100%'\n        } : {\n          flex: 1,\n          flexDirection: 'row',\n          position: 'absolute',\n          bottom: 0,\n          width: '80%'\n        },\n        children: [_jsx(TextInput, {\n          style: [styles.input, {\n            alignItems: 'center',\n            marginTop: 14,\n            backgroundColor: Colors[colorScheme].textInput,\n            color: Colors[colorScheme].text\n          }],\n          value: commentInput,\n          onChangeText: function onChangeText(input) {\n            return setCommentInput(input);\n          },\n          keyboardType: \"default\"\n        }), _jsx(TouchableOpacity, {\n          style: {\n            margin: 20\n          },\n          onPress: postComment,\n          children: _jsx(MaterialIcons, {\n            name: \"send\",\n            size: 32,\n            color: Colors[colorScheme].tint\n          })\n        })]\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  title: {\n    fontSize: 30,\n    fontWeight: 'bold',\n    justifyContent: 'center'\n  },\n  separator: {\n    marginTop: 10,\n    height: 1,\n    width: '60%'\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: 'center'\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: 'white',\n    borderRadius: 20,\n    padding: 35,\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 4,\n    elevation: 5\n  },\n  video: {\n    flex: 1,\n    borderRadius: 8,\n    width: \"100%\",\n    maxWidth: 350,\n    aspectRatio: 9 / 16,\n    marginTop: 5,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  name: {\n    fontSize: 14,\n    fontWeight: 'bold'\n  },\n  desc: {\n    fontSize: 14,\n    textAlign: 'justify'\n  },\n  icon: {\n    marginEnd: 10,\n    maxHeight: 24\n  },\n  input: {\n    borderRadius: 30,\n    width: '100%',\n    borderWidth: 1,\n    padding: 10,\n    overflow: 'hidden',\n    marginVertical: 10,\n    marginStart: 10,\n    height: 40\n  }\n});","map":{"version":3,"names":["useContext","useEffect","useState","Text","View","Video","ResizeMode","Colors","FontAwesome","MaterialIcons","Image","Comment","useColorScheme","server","MyContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Media","props","colorScheme","_useState","allMedia","isLiked","_useState2","_slicedToArray","setIsLiked","_useState3","_useState4","iconName","setIconName","_useState5","nbLikes","_useState6","likes","setLikes","_useContext","token","_useState7","_useState8","commentsModalVisible","setCommentsModalVisible","_useState9","idMedia","username","comment","_useState10","comments","setComments","_useState11","_useState12","commentInput","setCommentInput","getComments","handlePressLike","likeVideo","_ref","_asyncToGenerator","console","log","urlGetComments","_id","resGetComments","fetch","ok","data","json","apply","arguments","postComment","_ref2","urlPostComment","resPostComment","method","headers","body","JSON","stringify","newComment","concat","_toConsumableArray","nbComments","_likeVideo","urlLikes","resultLikes","checkLike","children","style","flexDirection","flexWrap","flex","maxWidth","minWidth","marginBottom","source","require","width","height","borderRadius","marginTop","right","Platform","OS","marginEnd","styles","name","color","text","tabIconDefault","marginStart","fontSize","created","split","replaceAll","desc","description","video","backgroundColor","background","uri","videoId","useNativeControls","isLooping","onError","error","resizeMode","CONTAIN","alignItems","justifyContent","size","icon","onPress","separator","lightColor","darkColor","Modal","animationType","transparent","visible","onRequestClose","position","top","Pressable","margin","title","ScrollView","map","index","bottom","TextInput","input","textInput","value","onChangeText","keyboardType","TouchableOpacity","tint","StyleSheet","create","container","fontWeight","modalText","textAlign","modalView","padding","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","aspectRatio","maxHeight","borderWidth","overflow","marginVertical"],"sources":["/Users/mohammedkhedim/Gitclones/BeCrazy/becrazy/components/Media.tsx"],"sourcesContent":["import { Modal, Platform, Pressable, ScrollView, StyleSheet, TextInput, TouchableOpacity } from 'react-native';\nimport { useContext, useEffect, useState } from 'react';\nimport { Text, View } from './Themed';\nimport { Video, ResizeMode } from 'expo-av';\nimport Colors from '../constants/Colors';\nimport { FontAwesome, MaterialIcons } from '@expo/vector-icons';\nimport { Image } from 'react-native';\nimport { Comment } from './Comment';\nimport useColorScheme from '../hooks/useColorScheme';\nimport { server } from '../constants/Server';\nimport { MyContext } from '../App';\nimport { comments } from '../interfaces/media/comments';\n\n\n\nexport function Media(props: any) {\n    const colorScheme = useColorScheme();\n    type IconName = 'heart-o' | 'heart';\n    const [isLiked, setIsLiked] = useState(props.allMedia.isLiked)\n    const [iconName, setIconName] = useState<IconName>('heart-o')\n    const [likes, setLikes] = useState(props.allMedia.nbLikes)\n    const { token } = useContext(MyContext);\n    const [commentsModalVisible, setCommentsModalVisible] = useState(false);\n    const [comments, setComments] = useState<Array<comments>>([{\n        idMedia: '1', username: 'momo', comment: 'ta video est nulle'\n    }, {\n        idMedia: '2', username: 'Deadass', comment: 'deadass c nulle bro'\n    }])\n    const [commentInput, setCommentInput] = useState('');\n\n    // get comments lorsqu'on ouvre le modale des commentaires\n    useEffect(() => { getComments() }, [commentsModalVisible])\n\n    function handlePressLike() {\n        iconName === 'heart-o' ? setIconName('heart') : setIconName('heart-o');\n        likeVideo()\n    }\n\n    const getComments = async () => {\n        if (commentsModalVisible === true) {\n            console.log('opening comments');\n            const urlGetComments = `${server}/getComments/${props.allMedia._id}`;\n            const resGetComments = await fetch(urlGetComments);\n            if (resGetComments.ok) {\n                const data = await resGetComments.json();\n                console.log(data);\n                setComments(data);\n            }\n        }\n    }\n\n    const postComment = async () => {\n        const urlPostComment = `${server}/commentsMedia/${token}`\n        const resPostComment = await fetch(urlPostComment, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                idMedia: props.allMedia._id,\n                comment: commentInput\n            })\n        });\n        if (resPostComment.ok) {\n            const data = await resPostComment.json();\n            console.log(data);\n            let newComment = {\n                idMedia: data.idMedia,\n                username: data.username,\n                comment: data.comment\n            }\n            setComments(comments => [...comments, newComment]);\n            props.allMedia.nbComments += 1;\n            setCommentInput('');\n        }\n    }\n\n    async function likeVideo() {\n        const urlLikes = `${server}/likeMedia/${token}`;\n        console.log(props.allMedia._id)\n\n        const resultLikes = await fetch(urlLikes, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                idMedia: props.allMedia._id\n            })\n        });\n        if (resultLikes.ok) {\n            if (iconName !== 'heart') {\n                setLikes(likes + 1);\n            } else {\n                setLikes(likes - 1);\n            }\n        } else {\n            console.log(\"une erreur s'est produite\");\n        }\n    }\n\n    useEffect(() => {\n        function checkLike() {\n            if (isLiked == true) {\n                setIconName('heart')\n            } else {\n                setIconName('heart-o')\n            }\n        }\n        checkLike();\n    }, [])\n\n\n    return (\n        <>\n            <View style={{ flexDirection: 'row', flexWrap: 'wrap', flex: 1, maxWidth: 350, minWidth: 350, marginBottom: 10 }}>\n                <Image source={\n                    // user icon placeholder\n                    require('../assets/images/icon.png')} style={{\n                        width: 50,\n                        height: 50,\n                        borderRadius: 50,\n                        marginTop: 25,\n                        right: 12,\n                    }} />\n                <View style={Platform.OS !== 'web' ?\n                    { flexDirection: 'column', flexWrap: 'wrap', maxWidth: \"100%\", minWidth: \"80%\", flex: 1, marginEnd: 5 } :\n                    { flexDirection: 'column', flexWrap: 'wrap', maxWidth: \"100%\", minWidth: 265, flex: 1, marginEnd: 5 }\n                }>\n                    <View style={{ flexDirection: 'row' }}>\n                        <Text style={[styles.name, { color: Colors[colorScheme].text, marginTop: 25 }]}>{props.allMedia.username}</Text>\n                        <Text style={{ color: Colors[colorScheme].tabIconDefault, marginStart: 10, marginTop: 25, fontSize: 12 }}>\n                            {props.allMedia.created.split('T')[0].replaceAll('-', '/')}</Text>\n                    </View>\n                    <Text style={[styles.desc, { color: Colors[colorScheme].text, marginTop: 0, marginBottom: 0 }]}>\n                        {props.allMedia.description}\n                    </Text>\n                    <Video style={[styles.video, { backgroundColor: Colors[colorScheme].background }]}\n                        source={{ uri: `${server}/getMedia/${props.allMedia.videoId}` }}\n                        useNativeControls={true}\n                        isLooping={true}\n                        onError={(error) => console.error(error)}\n                        resizeMode={ResizeMode.CONTAIN}\n                    />\n                    <View style={{\n                        flexDirection: 'row', marginTop: 10, alignItems: 'flex-end',\n                        justifyContent: 'flex-end', marginBottom: 20,\n                    }}>\n                        <MaterialIcons size={24} name='chat-bubble' color={Colors[colorScheme].text} style={styles.icon} onPress={() => setCommentsModalVisible(true)} />\n                        <Text style={{ marginEnd: 10 }}>{props.allMedia.nbComments}</Text>\n                        <FontAwesome size={24} name={iconName} color={Colors[colorScheme].text} style={styles.icon} onPress={handlePressLike} />\n                        <Text style={{ marginEnd: 10 }}>{likes}</Text>\n                    </View>\n                </View>\n            </View>\n            <View style={styles.separator} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\" />\n\n            <Modal\n                animationType=\"slide\"\n                transparent={true}\n                visible={commentsModalVisible}\n                onRequestClose={() => {\n                    setCommentsModalVisible(!commentsModalVisible);\n                }}>\n                <View style={Platform.OS == 'web' ? { height: '92%' }: {height: '100%'}}>\n                    <View style={{ flex: 1, flexDirection: 'row', position: 'absolute', top: 20 }}>\n                        <Pressable style={{ margin: 20 }} onPress={() => setCommentsModalVisible(!commentsModalVisible)}>\n                            <MaterialIcons name='arrow-back' size={30} color={Colors[colorScheme].text} />\n                        </Pressable>\n                        <Text style={[styles.title, { alignItems: 'center', marginTop: 16 }]}>Comments</Text>\n                    </View>\n                    <ScrollView style={{ marginTop: 100 }}>\n                        {comments?.map((comment, index) => {\n                            return <Comment key={comment.idMedia + index} comment={comment} />\n                        })}</ScrollView>\n\n                </View>\n                <View style={Platform.OS == 'web' ? { flex: 1, flexDirection: 'row', position: 'absolute', bottom: 0, width: '100%' } :\n                    { flex: 1, flexDirection: 'row', position: 'absolute', bottom: 0, width: '80%' }}>\n\n                    <TextInput style={[styles.input,\n                    {\n                        alignItems: 'center',\n                        marginTop: 14,\n                        backgroundColor: Colors[colorScheme].textInput,\n                        color: Colors[colorScheme].text\n                    }]}\n                        value={commentInput}\n                        onChangeText={input => setCommentInput(input)}\n                        keyboardType='default'\n                    ></TextInput>\n                    <TouchableOpacity style={{ margin: 20 }} onPress={postComment}>\n                        <MaterialIcons name='send' size={32} color={Colors[colorScheme].tint} />\n                    </TouchableOpacity>\n                </View>\n            </Modal>\n        </>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    title: {\n        fontSize: 30,\n        fontWeight: 'bold',\n        justifyContent: 'center'\n    },\n    separator: {\n        marginTop: 10,\n        height: 1,\n        width: '60%',\n    },\n    modalText: {\n        marginBottom: 15,\n        textAlign: 'center',\n    },\n    modalView: {\n        margin: 20,\n        backgroundColor: 'white',\n        borderRadius: 20,\n        padding: 35,\n        alignItems: 'center',\n        shadowColor: '#000',\n        shadowOffset: {\n            width: 0,\n            height: 2,\n        },\n        shadowOpacity: 0.25,\n        shadowRadius: 4,\n        elevation: 5,\n    },\n    video: {\n        flex: 1,\n        borderRadius: 8,\n        width: \"100%\",\n        maxWidth: 350,\n        aspectRatio: 9 / 16,\n        marginTop: 5,\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    name: {\n        fontSize: 14,\n        fontWeight: 'bold',\n    },\n    desc: {\n        fontSize: 14,\n        textAlign: 'justify'\n    },\n\n    icon: {\n        marginEnd: 10,\n        maxHeight: 24,\n    },\n    input: {\n        borderRadius: 30,\n        width: '100%',\n        borderWidth: 1,\n        padding: 10,\n        overflow: 'hidden',\n        marginVertical: 10,\n        marginStart: 10,\n        height: 40,\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}